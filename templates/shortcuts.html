<!DOCTYPE html>
<html>
<head>
    <title>快捷键设置</title>
</head>
<body>
    <h1>快捷键设置</h1>
    <form action="{{ url_for('set_shortcut') }}" method="post">
        <h2>技能快捷键</h2>
        {% for i in range(1, 5) %}
        <div>
            <label>技能{{ i }}:</label>
            <select name="skill{{ i }}">
                <option value="attack">普通攻击</option>
                {% for skill in player.learned_skills %}
                    <option value="{{ skill }}" {% if skill == player.shortcuts['skill' ~ i] %}selected{% endif %}>{{ skill }}</option>
                {% endfor %}
            </select>
        </div>
        {% endfor %}

        <h2>药品快捷键</h2>
        {% for i in range(1, 3) %}
        <div>
            <label>药品{{ i }}:</label>
            <select name="potion{{ i }}">
                <option value="">不设置</option>
                {% for item_id, item_data in player.inventory.items() %}
                    {% if item_data is mapping and 'item' in item_data and item_data.item.item_type == 'potion' %}
                        <option value="{{ item_id }}" {% if item_id == player.shortcuts['potion' ~ i] %}selected{% endif %}>
                            {{ item_data.item.name }}({{ item_data.quantity }})
                        </option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        {% endfor %}
        
        
        <button type="submit">保存设置</button>
    </form>
    <a href="{{ url_for('battle') }}">返回战斗</a>
</body>
</html>
